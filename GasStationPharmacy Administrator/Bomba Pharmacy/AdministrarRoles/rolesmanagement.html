<!doctype html>
<html lang="en">
  <head>
    <title>BombaTica Pharmacy Roles Managment</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <script src="modifyrole.js"></script>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" >
  </head>
  <body>
<!-- Parte superior de l pantalla -->
      <nav class="navbar navbar-expand-md navbar-dark fixed-top" style="background-color: rgb(42, 42, 143)">
          <a class="navbar-brand" href="#">Bomba Tica</a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
    
          <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav mr-auto">
              <li class="nav-item active">
                <a class="nav-link" href="#" onclick="location.href = '../Admin.html#'"
                >Home <span class="sr-only">(current)</span></a>
              </li>             
            </ul>
          </div>
        </nav>

        <main role="main" ng-app="myApp" ng-controller="myCtrl">
            <div class="jumbotron"  style="background-color: rgb(42, 42, 143)">
              <div class="container" style="margin-left: -30px">
                <h1 class="display-4" style="color: white"> <b>Role Management</b></h1>
                <p style="color: white">This page is for the management of everything related to roles</p>
              </div>
            </div>
      
            <div class="container" >
              <!-- Botones para las diferentes acciones -->
              <div class="row">
                <div class="col-md-4">
                  <h2>Add</h2>
                  <p>To add a new role to the DB.</p>
                  <p><a class="btn btn-secondary" href="#" ng-click="addRoles()" role="button"
                    >Add a role </a></p>                          
                </div>
                <div class="col-md-4">
                  <h2>Modify</h2>
                  <p>To change a role atributes or information.</p>
                  <p><a class="btn btn-secondary" ng-click = "modifyRoles()" href="#" role="button"
                    >Modify a Role </a></p>
                </div>
                <div class="col-md-4">
                  <h2>Delete</h2>  
                  <p>To delete a role from the DB.</p>
                  <p><a class="btn btn-secondary" href="#" ng-click="deleteRoles()" role="button"
                    >Delete Role </a></p>
                </div>
                <!-- Tabla para elegir el rol a modificar -->
                <table class="table table-striped table-sm" ng-show="rolestable">
                    <tr>
                        <th>Role Name</th>
                        <th>Description</th>
                        <th>Modify</th>
                    </tr>
                    <tr ng-repeat = "role in roles">
                        <th>{{role.RoleName}}</th>
                        <th>{{role.RoleDescription}}</th>
                        <th><button class="btn btn-secundary" ng-click="modifyRole(role)">Edit</button></th>
                    </tr>
                </table>
                <!-- Pantalla para modificar el rol elegido -->
                <div ng-show="modify">
                  <div class = "col-md-4 mb-3">
                    <label for="name">Name:</label>
                    <input type="text" id="name" class="form-control" ng-model = "role.RoleName" placeholder="Name" disabled>
                  </div>
                  <div class="col-md-10 mb-3">
                        <label for="description">Description:</label>
                  </div>
                  <div class="col-md-10 mb-3">
                      <textarea name="description" class="form-control" id="description" ng-model="role.RoleDescription" cols="80" rows="8"></textarea>
                  </div>
                  <div class="col-md-4">
                      <button class="btn btn-secundary" ng-click = "updateRol()">Modify Role</button>
                  </div>
                </div>
                <!-- Tabla para elegir un rol a eliminar -->
                <table class="table table-striped table-sm" ng-show = "deleteroles">
                  <tr>
                      <th>Role Name</th>
                      <th>Description</th>
                      <th>Delete</th>
                  </tr>
                  <tr ng-repeat ="role in roles">
                      <th>{{role.RoleName}}</th>
                      <th>{{role.RoleDescription}}</th>
                      <th><button class="btn btn-secundary" ng-click = "deleteRol(role)">Delete</button></th>
                  </tr>
                </table>
                <!-- Pantalla para agregar un rol -->
                <div ng-show="addroles">
                  <div class = "col-md-4 mb-3">
                    <label for="name">Name:</label>
                    <input type="text" id="name" class="form-control" ng-model = "role.RoleName" placeholder="Name" required>
                </div>
                <div class="col-md-10 mb-3">
                        <label for="description">Description:</label>
                    </div>
                <div class="col-md-10 mb-3">
                    <textarea name="description" class="form-control" id="description" ng-model = "role.RoleDescription" cols="80" rows="8"></textarea>
                </div>
                <div class="col-md-4">
                    <button class="btn btn-secundary" ng-click = "addRole()">Add Role</button>
                </div>
                </div>
              </div>      
              <hr>      
            </div>
          </main>
      </body>
</html>